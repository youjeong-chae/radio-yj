<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.radio.mapper.MemberMapper">

<!-- 회원 가입 -->	
	<insert id="insertMember">
		<selectKey keyProperty="bno" order="BEFORE" resultType="Long">
			SELECT seq_member.nextval FROM dual
		</selectKey>	
			INSERT INTO tbl_member
			VALUES (#{bno}, #{name}, #{id}, #{password}, #{email}, 
			#{add1}, #{add2}, #{add3}, #{add4}, 0, SYSDATE)
	</insert>

<!-- 아이디 중복 검사 -->
	<select id="check_id" resultType="String" parameterType="String">
		SELECT count(*) FROM tbl_member WHERE member_id = #{id}
	</select>
	
<!-- 이메일 중복 검사 -->
	<select id="check_email" resultType="String" parameterType="String">
		SELECT count(*) FROM tbl_member WHERE member_email = #{email}
	</select>
</mapper>